# CHANGELOG

## Unreleased
### Fixed
- Issues with PHAR archives by automatic concatenation of relative directories with the current directory.

## v0.2.1 - 2019-06-03
### Added
- Executable permissions to the PHAR archive generated when building nyansapow from source.
- Limits to version numbers of all unbounded dependencies.

### Removed
- All unused dependencies to reduce the size of the final PHAR archive.

### Fixed
- Can now write to relative directories when running nyansapow through a PHAR archive.

## v0.2.0 - 2019-05-27
### Added
- The possibility generate individual non-post pages rendered from a special pages directory.
- The generation of a posts.html file which contains all posts from the blog.
- A dedicated index template to be used or rendering the blog homepage.
- Dependency injection for loading components.
- Logging of all actions through ClearICE IO
- A Responsive default layout for blog generator.
- A `generate` command for the CLI to handle generation of sites.
- A way to specify the default site processor and site name through the command line interface.
- A `serve` command to serve the website with the PHP server. This command takes all options of the generator except the option to specify the output.
- A `page_type` variable to blog pages on the layout level. This variable can have a value of either `post`, `page` or `index` correspondingly set when rendering posts, pages or any other type of archive listing (including the index page).
- Image tags in the nyansapow parser can take a list of images. Whenever a list of images are passed, a `<picture>` tag is rendered instead of a raw `<img>` tag.


### Removed
- Removed the frame parameter for image tags. Images are now framed by default and a new `no-frame` tag has been added to remove said frame.
- Also, image alignments have been removed from the tag. This should be left to be implemented in CSS.
- Removed the support for the INI format for use in site metadata and page front matter.
- Removed the support for parsing PHP tags in the nyansapow parser. This means, links to pages about referenced tags will not be automatically generated. This feature will be reinstated as a plugin once the plugin infrastructure is in place.  

### Changed
- Restructured the Processor class system by introducing a `GeneratorFactory` and an `AbstractGenerator` derived from the old `Processor` class.
- Switched most of the static classes to be instantiable. This allows conformance with the new approach of dependency injection. 
- Theme setting in `site.yml` completely overrides all aspects of the built in themes.
- Improved default CSS stylesheets for wiki.
    - Made page narrower.
    - Made image styles cleaner.
- Cleaned up the code for the blog generator.
- Instead of a global assets directory, all assets for a given site are written into the sites' base directory during generation.
- All assets and copied files are deleted on the target before being built.
- Rendering of the output of the nyansapow parser is now handled by templates. This makes it possible to override the internal rendering used by nyansapow with custom templates or even themes.

### Fixed
- Broken wiki front matter title override.
- PHP warnings generated by the parser for non existent array keys.
- Templates can be resolved directly from within the PHAR archives.
- Assets can be extracted directly from within the PHAR archives.
- Conflicting blog layouts that prevented blogs from being generated.

## v0.1.0 - 2018-08-09
Initial release
